{"version":3,"sources":["config.js","logic/LocationsHandler.js","app/status.js","app/locationSlice.js","app/store.js","components/Location/LocationTitle.js","components/Location/Core/Core.js","components/Location/Core/CoreInfomation.js","logic/Locations/Victoria.js","components/Location/Footer.js","components/Location/Location.js","components/Generic/Loading.js","components/App.js","index.js"],"names":["CONFIG","URL","BASE","SUPPORTED_VERSION","headers","Headers","append","options","method","Locations","getLocation","id","Promise","resolve","reject","fetch","then","response","json","data","i","locations","length","filename","version","console","log","getCurrentDay","days","slice","sort","a","b","time","STATUS","IDLE","LOADING","READY","initialState","status","downloadAsync","createAsyncThunk","locationSlice","createSlice","name","reducers","setLocation","state","action","payload","extraReducers","builder","addCase","pending","fulfilled","selectStatus","actions","location","selectData","store","configureStore","reducer","locationReducer","LocationTitle","props","className","Core","title","info","CoreInfomation","Elements","map","VICTORIA","todayData","deaths","caseNumbers","overseas","local","interstate","tests","Footer","lastUpdated","updated","formatted","formatDistance","fromUnixTime","Date","addSuffix","Location","Data","this","Today","Updated","React","Component","connect","Loading","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c7eeab39.chunk.js","sourcesContent":["const CONFIG = {\r\n    URL: \"https://au-covid-19.github.io/COVID-19-Data/\",\r\n    BASE: \"data.json\",\r\n\r\n    SUPPORTED_VERSION: 0.1\r\n}\r\n\r\nexport default CONFIG;","import CONFIG from \"../config\";\r\n\r\n// This prevents \r\nconst headers = new Headers();\r\nheaders.append('pragma', 'no-cache');\r\nheaders.append('cache-control', 'no-cache');\r\n\r\nconst options = {\r\n    method: \"get\",\r\n    headers: headers,\r\n}\r\n\r\nconst Locations = {\r\n    getLocation: (id) => {\r\n        return new Promise((resolve, reject) => {\r\n            fetch(CONFIG.URL + CONFIG.BASE, options)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    for(var i = 0; i < data.locations.length; i++) {\r\n                        if (data.locations[i].id == id) {\r\n                            const URL = CONFIG.URL + data.locations[i].filename;\r\n                            fetch(URL)\r\n                                .then(response => response.json())\r\n                                .then(data => {\r\n                                    // Check Data Source matches version number\r\n                                    if(data.version == CONFIG.SUPPORTED_VERSION) {\r\n                                        resolve(data);\r\n                                    } else {\r\n                                        console.log(\"VERSION MISMATCH\");\r\n                                        reject();\r\n                                    }\r\n                                })\r\n                        }\r\n                    }  \r\n                })\r\n        });\r\n    },\r\n    getCurrentDay: (data) => {    \r\n        const Sorted = data.days.slice().sort((a, b) => (a.time < b.time) ? 1 : -1)\r\n\r\n        return Sorted[0];\r\n    }\r\n}\r\n\r\nexport default Locations;","const STATUS = {\r\n    IDLE: \"idle\",\r\n    LOADING: \"loading\",\r\n    READY: \"ready\",\r\n}\r\n\r\nexport default STATUS;","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n\r\nimport Locations from \"../logic/LocationsHandler\";\r\nimport STATUS from './status';\r\n\r\nconst initialState = {\r\n    id: 15,\r\n    data: null,\r\n    status: STATUS.LOADING,\r\n}\r\n\r\nexport const downloadAsync = createAsyncThunk(\r\n    \"location/download\",\r\n    async () => {\r\n        const data = await Locations.getLocation(0);\r\n        return data;\r\n    }\r\n)\r\n\r\nexport const locationSlice = createSlice({\r\n    name: \"location\",\r\n    initialState,\r\n    reducers: {\r\n        setLocation: (state, action) => {\r\n            state.id = action.payload;\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(downloadAsync.pending, (state) => {\r\n                state.status = STATUS.LOADING\r\n            })\r\n            .addCase(downloadAsync.fulfilled, (state, action) => {\r\n                state.status = STATUS.READY;\r\n                state.data = action.payload;\r\n            })\r\n    }\r\n})\r\n\r\nexport const { setLocation } = locationSlice.actions;\r\n\r\nexport const selectStatus = (state) => state.location.status;\r\nexport const selectID = (state) => state.location.id;\r\nexport const selectData = (state) => state.location.data;\r\n\r\nexport default locationSlice.reducer;","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport locationReducer from \"./locationSlice\";\r\n\r\nexport const store = configureStore({\r\n    reducer: {\r\n        location: locationReducer\r\n    }\r\n})","import React from 'react';\r\n\r\nexport default function LocationTitle(props) {\r\n    return (\r\n        <div className=\"title\">\r\n            <h1>{props.location}</h1>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Core(props) {\r\n    return (\r\n        <div>\r\n            <p>{props.title}</p>\r\n            <p>{props.info}</p>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Core from './Core';\r\n\r\nexport default function CoreInfomation(props) {\r\n    const info = props.info;\r\n    const Elements = info.map((info) => {\r\n        return <Core key={info.name} title={info.name} info={info.data}/>\r\n    })\r\n    return (\r\n        <div className=\"coreContainer\">\r\n            {Elements}\r\n        </div>\r\n    )\r\n}","const VICTORIA = {\r\n    CoreInfomation: (todayData) => {\r\n        return [\r\n            {\"name\": \"Deaths\", \"data\": todayData.deaths},\r\n            {\"name\": \"Overseas Cases\", \"data\": todayData.caseNumbers.overseas},\r\n            {\"name\": \"Local Cases\", \"data\": todayData.caseNumbers.local},\r\n            {\"name\": \"Interstate Cases\", \"data\": todayData.caseNumbers.interstate},\r\n            {\"name\": \"Tests\", \"data\": todayData.tests},\r\n        ];\r\n    }\r\n}\r\n\r\nexport default VICTORIA;","import { fromUnixTime, formatDistance, subDays } from 'date-fns';\r\nimport React from 'react';\r\n\r\nimport \"./Location.scss\";\r\n\r\nexport default function Footer(props) {\r\n    const lastUpdated = props.updated;\r\n\r\n    const formatted = formatDistance(fromUnixTime(lastUpdated), new Date(), { addSuffix: true })\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <p>Updated {formatted}</p>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectData } from '../../app/locationSlice';\r\n\r\nimport LocationTitle from './LocationTitle';\r\nimport CoreInfomation from './Core/CoreInfomation';\r\nimport Locations from '../../logic/LocationsHandler';\r\n\r\nimport VICTORIA from '../../logic/Locations/Victoria';\r\nimport Footer from './Footer';\r\n\r\nclass Location extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const Data = this.props.data;\r\n        const Today = Locations.getCurrentDay(Data);\r\n        const Core = VICTORIA.CoreInfomation(Today);\r\n        const Updated = Today.time;\r\n\r\n        return (\r\n            <div>\r\n                <LocationTitle location={Data.info.name} />\r\n                <CoreInfomation info={Core} />\r\n                <Footer updated={Updated}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(state => ({ data: selectData(state) }), null)(Location);","import React from 'react';\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div>\r\n            <p>Loading</p>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { downloadAsync, selectStatus } from '../app/locationSlice';\r\nimport STATUS from '../app/status';\r\n\r\nimport Location from './Location/Location';\r\nimport Loading from './Generic/Loading';\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.downloadAsync();\r\n    }\r\n\r\n    render() {\r\n        // Check Status of Location Download\r\n        if(this.props.status == STATUS.READY) {\r\n            return <Location />\r\n        } else if(this.props.status == STATUS.IDLE || STATUS.LOADING) {\r\n            return <Loading />\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        activeFilter: state.Test\r\n    };\r\n}\r\n\r\nexport default connect(state => ({ status: selectStatus(state) }), {downloadAsync} )(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {Provider} from \"react-redux\";\nimport {store} from \"./app/store\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}